{"version":3,"file":"static/js/683.b4d10218.chunk.js","mappings":"0KAEA,IAAIA,GAAa,EACbC,GAAW,EAEf,MAAMC,EACQ,IADRA,EAES,GAFTA,EAGS,IAHTA,EAIQ,IAoId,EAjIwBC,KACpB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,GACjCC,GAAaC,EAAAA,EAAAA,QAAY,MAE/B,IAAIC,EAAS,EACTC,EAAS,EAEb,MAAMC,EAAaC,IACf,GAAIZ,GAAcO,EAAWM,QAAS,CAClC,MAAMC,EAAOF,EAAEG,QAAUN,EACnBO,EAAOJ,EAAEK,QAAUP,EAGzBT,GAAW,EAEX,MAAMiB,EAAWX,EAAWM,QAAQM,YAC9BC,EAAYb,EAAWM,QAAQQ,aAC/BC,EAAWC,KAAKC,IAAI,EAAGD,KAAKE,IAAIC,OAAOC,WAAaT,EAAUJ,IAC9Dc,EAAWL,KAAKC,IAAI,EAAGD,KAAKE,IAAIC,OAAOG,YAAcT,EAAWJ,IAEtET,EAAWM,QAAQiB,MAAMC,KAAI,GAAAC,OAAMV,EAAQ,MAC3Cf,EAAWM,QAAQiB,MAAMG,IAAG,GAAAD,OAAMJ,EAAQ,KAC9C,GAGEM,EAAUA,KACZlC,GAAa,EACbmC,SAASC,oBAAoB,YAAazB,GAC1CwB,SAASC,oBAAoB,UAAWF,IAiE5C,OACIG,EAAAA,EAAAA,MAAA,OACIC,IAAK/B,EACLuB,MAAO,CACHS,SAAU,WACVC,MAAO,MACPC,OAAQ,MACRC,OAAQ,IACRC,OAAQ,gBACRC,UAAW,QACXC,OAAQzC,EAAUF,EAAmBA,EAAmBA,EACxD4C,MAAO1C,EAAUF,EAAkBA,GACrC6C,SAAA,EAEFC,EAAAA,EAAAA,KAAA,OACIlB,MAAO,CACHe,OAAQ3C,EACR4C,MAAO5C,EACPyC,OAAQ,kBACRM,QAAS7C,EAAU,GAAK,WAGhC4C,EAAAA,EAAAA,KAAA,UACIlB,MAAO,CACHe,OAAQ3C,EACR4C,MAAO5C,GAEXgD,YAzFOtC,IACf,IAAKL,EAAWM,QAAS,OACzBb,GAAa,EACbC,GAAW,EAEX,MAAMkD,EAAO5C,EAAWM,QAAQuC,wBAChC3C,EAASG,EAAEG,QAAUoC,EAAKpB,KAC1BrB,EAASE,EAAEK,QAAUkC,EAAKlB,IAE1BE,SAASkB,iBAAiB,YAAa1C,GACvCwB,SAASkB,iBAAiB,UAAWnB,IAgF7BoB,QA7ES1C,IAIjB,GAHAA,EAAE2C,iBAGEtD,EACA,OAGJ,IAAKM,EAAWM,QAEZ,YADAR,GAAYD,GAIhB,MAAM+C,EAAO5C,EAAWM,QAAQuC,wBAChCI,QAAQC,IAAI,qCAA4BN,GACxC,IAAIO,EAASP,EAAKlB,IACd0B,EAAUR,EAAKpB,KAGnB,GAAK3B,EAcE,CACH,MAAMwD,EAAelC,OAAOC,WAAawB,EAAKX,MACxCqB,EAAgBnC,OAAOG,YAAcsB,EAAKV,OAGhDlC,EAAWM,QAAQiB,MAAMU,MAAK,GAAAR,OAAM4B,EAAY,MAChDrD,EAAWM,QAAQiB,MAAMW,OAAM,GAAAT,OAAM6B,EAAa,MAGlDtD,EAAWM,QAAQiB,MAAMC,KAAO,OAChCxB,EAAWM,QAAQiB,MAAMG,IAAM,MACnC,MAvBQyB,EADAP,EAAKlB,IAAM/B,EACF,EAEAiD,EAAKlB,IAAM/B,EAIpByD,EADAR,EAAKpB,KAAO7B,EACF,EAEAiD,EAAKpB,KAAO7B,EAAkBA,EAE5CK,EAAWM,QAAQiB,MAAMC,KAAI,GAAAC,OAAM2B,EAAO,MAC1CpD,EAAWM,QAAQiB,MAAMG,IAAG,GAAAD,OAAM0B,EAAM,MAc5CrD,GAAYD,IA+BiB2C,SACxB,0B","sources":["pages/DraggableButton/index.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\n\nlet isDragging = false;\nlet hasMoved = false; // ËÆ∞ÂΩïÊú¨Ê¨°Êåâ‰∏ãÂêéÊòØÂê¶ÂÆûÈôÖÁßªÂä®Ëøá\n\nconst styles = {\n    btnWidth: 100,\n    btnHeight: 50,\n    divHeight: 720,\n    divWidth: 370,\n};\n\nconst DraggableButton = () => {\n    const [showDiv, setShowDiv] = useState(false);\n    const contentRef = useRef<any>(null);\n\n    let startX = 0;\n    let startY = 0;\n\n    const mouseMove = (e: MouseEvent) => {\n        if (isDragging && contentRef.current) {\n            const newX = e.clientX - startX;\n            const newY = e.clientY - startY;\n\n            // Âè™Ë¶ÅÊúâÁßªÂä®ÔºåÂ∞±ËÆ§‰∏∫ÊòØÊãñÊãΩ\n            hasMoved = true;\n\n            const divWidth = contentRef.current.offsetWidth;\n            const divHeight = contentRef.current.offsetHeight;\n            const boundedX = Math.max(0, Math.min(window.innerWidth - divWidth, newX));\n            const boundedY = Math.max(0, Math.min(window.innerHeight - divHeight, newY));\n\n            contentRef.current.style.left = `${boundedX}px`;\n            contentRef.current.style.top = `${boundedY}px`;\n        }\n    };\n\n    const mouseUp = () => {\n        isDragging = false;\n        document.removeEventListener('mousemove', mouseMove);\n        document.removeEventListener('mouseup', mouseUp);\n    };\n\n    const mouseDown = (e: React.MouseEvent) => {\n        if (!contentRef.current) return;\n        isDragging = true;\n        hasMoved = false; // ÊØèÊ¨°Êñ∞ÁöÑÊåâ‰∏ãÔºåÈáçÁΩÆÁßªÂä®Ê†áËÆ∞\n\n        const rect = contentRef.current.getBoundingClientRect();\n        startX = e.clientX - rect.left;\n        startY = e.clientY - rect.top;\n\n        document.addEventListener('mousemove', mouseMove);\n        document.addEventListener('mouseup', mouseUp);\n    };\n\n    const handleClick = (e: React.MouseEvent) => {\n        e.preventDefault();\n\n        // Â¶ÇÊûúËøô‰∏ÄËΩÆÊåâ‰∏ãÂêéÈº†Ê†áÊúâÊãñÂä®ËøáÔºåÂàô‰∏çÂΩìÊàêÁÇπÂáª\n        if (hasMoved) {\n            return;\n        }\n\n        if (!contentRef.current) {\n            setShowDiv(!showDiv);\n            return;\n        }\n\n        const rect = contentRef.current.getBoundingClientRect();\n        console.log('üöÄ ~ handleClick ~ rect:', rect);\n        let newTop = rect.top;\n        let newLeft = rect.left;\n\n        // ÂΩìÂâçÊòØÊî∂Ëµ∑ -> Â∞ÜË¶ÅÂ±ïÂºÄ\n        if (!showDiv) {\n            if (rect.top < styles.divHeight) {\n                newTop = 0;\n            } else {\n                newTop = rect.top - styles.divHeight;\n            }\n\n            if (rect.left < styles.divWidth) {\n                newLeft = 0;\n            } else {\n                newLeft = rect.left - styles.divWidth + styles.btnWidth;\n            }\n            contentRef.current.style.left = `${newLeft}px`;\n            contentRef.current.style.top = `${newTop}px`;\n        } else {\n            const currentRight = window.innerWidth - rect.right;\n            const currentBottom = window.innerHeight - rect.bottom;\n\n            // ÊäòÂè†ÂêéÔºåÂÆπÂô®Âè™ÊúâÊåâÈíÆÂ§ßÂ∞èÔºåÊåâÈíÆÂè≥‰∏ãËßíË∑üÂΩìÂâçÂÆπÂô®Âè≥‰∏ãËßíÈáçÂêàÔºåÊâÄ‰ª•Áõ¥Êé•Áî® right/bottom ÂÆö‰ΩçÔºö\n            contentRef.current.style.right = `${currentRight}px`;\n            contentRef.current.style.bottom = `${currentBottom}px`;\n\n            // Ê∏ÖÈô§ left/topÔºåÈÅøÂÖçÂÜ≤Á™Å\n            contentRef.current.style.left = 'auto';\n            contentRef.current.style.top = 'auto';\n        }\n\n        setShowDiv(!showDiv);\n    };\n\n    return (\n        <div\n            ref={contentRef}\n            style={{\n                position: 'absolute',\n                right: '0px',\n                bottom: '0px',\n                zIndex: 999,\n                border: '1px solid red',\n                textAlign: 'right',\n                height: showDiv ? styles.divHeight + styles.btnHeight : styles.btnHeight,\n                width: showDiv ? styles.divWidth : styles.btnWidth,\n            }}\n        >\n            <div\n                style={{\n                    height: styles.divHeight,\n                    width: styles.divWidth,\n                    border: '1px solid green',\n                    display: showDiv ? '' : 'none',\n                }}\n            />\n            <button\n                style={{\n                    height: styles.btnHeight,\n                    width: styles.btnWidth,\n                }}\n                onMouseDown={mouseDown}\n                onClick={handleClick}\n            >\n                ÁßªÂä®Êàë\n            </button>\n        </div>\n    );\n};\n\nexport default DraggableButton;"],"names":["isDragging","hasMoved","styles","DraggableButton","showDiv","setShowDiv","useState","contentRef","useRef","startX","startY","mouseMove","e","current","newX","clientX","newY","clientY","divWidth","offsetWidth","divHeight","offsetHeight","boundedX","Math","max","min","window","innerWidth","boundedY","innerHeight","style","left","concat","top","mouseUp","document","removeEventListener","_jsxs","ref","position","right","bottom","zIndex","border","textAlign","height","width","children","_jsx","display","onMouseDown","rect","getBoundingClientRect","addEventListener","onClick","preventDefault","console","log","newTop","newLeft","currentRight","currentBottom"],"sourceRoot":""}